#!/bin/bash
layers="[data]\n
type=data\n
dataIdx=0\n
\n
[labels]\n
type=data\n
dataIdx=1\n
\n
[conv1]\n
type=conv\n
inputs=data\n
channels=3\n
filters=64\n
padding=2\n
stride=1\n
filterSize=5\n
neuron=relu\n
initW=0.0001\n
partialSum=4\n
sharedBiases=1\n
\n
[pool1]\n
type=pool\n
pool=max\n
inputs=conv1\n
start=0\n
sizeX=3\n
stride=2\n
outputsX=0\n
channels=64\n
\n
[rnorm1]\n
type=cmrnorm\n
inputs=pool1\n
channels=64\n
size=$size_rnorm\n
\n
[conv2]\n
type=conv\n
inputs=rnorm1\n
filters=64\n
padding=2\n
stride=1\n
filterSize=5\n
channels=64\n
neuron=relu\n
initW=0.01\n
partialSum=8\n
sharedBiases=1\n
\n
[rnorm2]\n
type=cmrnorm\n
inputs=conv2\n
channels=64\n
size=$size_rnorm\n
\n
[pool2]\n
type=pool\n
pool=max\n
inputs=rnorm2\n
start=0\n
sizeX=3\n
stride=2\n
outputsX=0\n
channels=64\n
\n
[local3]\n
type=local\n
inputs=pool2\n
filters=64\n
padding=1\n
stride=1\n
filterSize=3\n
channels=64\n
neuron=relu\n
initW=0.04\n
\n
[local4]\n
type=local\n
inputs=local3\n
filters=32\n
padding=1\n
stride=1\n
filterSize=3\n
channels=64\n
neuron=relu\n
initW=0.04\n
\n
[fc10]\n
type=fc\n
outputs=10\n
inputs=local4\n
initW=0.01\n
\n
[probs]\n
type=softmax\n
inputs=fc10\n
\n
[logprob]\n
type=cost.logreg\n
inputs=labels,probs\n
\n"

echo $layers > "layers.cfg"

